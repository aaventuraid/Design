"use strict";(()=>{var e={};e.id=80,e.ids=[80],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1017:e=>{e.exports=require("path")},1549:(e,i,t)=>{t.r(i),t.d(i,{originalPathname:()=>v,patchFetch:()=>A,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c});var r={};t.r(r),t.d(r,{GET:()=>d,POST:()=>u,runtime:()=>p});var s=t(9303),n=t(8716),a=t(3131),o=t(4147);let p="nodejs";async function d(){let e=await (0,o.G)();return Response.json({settings:{imageBgProvider:e.imageBgProvider,geminiApiKey:void e.geminiApiKey,githubModelsApiKey:void e.githubModelsApiKey,hasGeminiKey:!!e.geminiApiKey,hasGithubModelsKey:!!e.githubModelsApiKey}})}async function u(e){let i=process.env.ADMIN_PASSWORD||"admin";if((e.headers.get("x-admin-password")||"")!==i)return new Response("Unauthorized",{status:401});let t=await e.json().catch(()=>null);if(!t)return new Response("Invalid JSON",{status:400});let r=await (0,o.z)(t);return Response.json({settings:r})}let l=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/admin/settings/route",pathname:"/api/admin/settings",filename:"route",bundlePath:"app/api/admin/settings/route"},resolvedPagePath:"D:\\2AI\\app\\api\\admin\\settings\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:c,serverHooks:m}=l,v="/api/admin/settings/route";function A(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:c})}},4147:(e,i,t)=>{t.d(i,{G:()=>d,z:()=>u});let r=require("fs");var s=t(1017),n=t.n(s);let a=n().join(process.cwd(),".data"),o=n().join(a,"settings.json"),p={defaultAIProvider:"local",imageBgProvider:"internal",defaultTolerance:12,maxFileSize:8,defaultMarketplace:"gofood",brandingEnabled:!1,watermarkEnabled:!1,theme:"light",language:"id",analyticsEnabled:!0,processingHistory:!0,rateLimit:100};async function d(){try{let e=await r.promises.readFile(o,"utf-8"),i=JSON.parse(e);return{...p,...i,geminiApiKey:process.env.GEMINI_API_KEY||i.geminiApiKey,githubModelsApiKey:process.env.GITHUB_MODELS_API_KEY||i.githubModelsApiKey,imageBgProvider:process.env.IMAGE_BG_PROVIDER||i.imageBgProvider||p.imageBgProvider}}catch{return{...p,geminiApiKey:process.env.GEMINI_API_KEY,githubModelsApiKey:process.env.GITHUB_MODELS_API_KEY,imageBgProvider:process.env.IMAGE_BG_PROVIDER||"internal"}}}async function u(e){await r.promises.mkdir(a,{recursive:!0});let i={...await d(),...e},t={...i};return process.env.GEMINI_API_KEY&&delete t.geminiApiKey,process.env.GITHUB_MODELS_API_KEY&&delete t.githubModelsApiKey,process.env.IMAGE_BG_PROVIDER&&delete t.imageBgProvider,await r.promises.writeFile(o,JSON.stringify(t,null,2)),i}},9303:(e,i,t)=>{e.exports=t(517)}};var i=require("../../../../webpack-runtime.js");i.C(e);var t=e=>i(i.s=e),r=i.X(0,[948],()=>t(1549));module.exports=r})();