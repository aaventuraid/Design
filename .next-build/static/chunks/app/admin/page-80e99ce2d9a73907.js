(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{7267:function(e,a,s){Promise.resolve().then(s.bind(s,4126))},4126:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return i}});var l=s(7437),r=s(2265);function n(){var e,a,s,n;let[i,t]=(0,r.useState)({defaultAIProvider:"local",imageBgProvider:"internal",defaultTolerance:12,maxFileSize:8,defaultMarketplace:"gofood",brandingEnabled:!1,watermarkEnabled:!1,theme:"light",language:"id",analyticsEnabled:!0,processingHistory:!0,rateLimit:100}),[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1),[u,g]=(0,r.useState)(null),[x,p]=(0,r.useState)("ai");(0,r.useEffect)(()=>{fetch("/api/admin/settings").then(e=>e.json()).then(e=>t(a=>({...a,...e.settings}))).catch(()=>{})},[]);let h=async()=>{m(!0),g(null);try{let e=await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json","x-admin-password":o},body:JSON.stringify(i)});if(!e.ok)throw Error(await e.text());g("✅ Settings saved successfully!"),setTimeout(()=>g(null),3e3)}catch(e){g("❌ "+(e.message||"Failed to save settings"))}finally{m(!1)}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\uD83D\uDD10 Admin Password"}),(0,l.jsx)("input",{type:"password",className:"border rounded-lg p-3 w-full max-w-xs focus:ring-2 focus:ring-primary-orange/20",value:o,onChange:e=>d(e.target.value),placeholder:"Enter admin password"})]}),(0,l.jsx)("div",{className:"border-b",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:[{id:"ai",label:"\uD83E\uDD16 AI & API",icon:"\uD83E\uDD16"},{id:"image",label:"\uD83D\uDDBC️ Image Processing",icon:"\uD83D\uDDBC️"},{id:"marketplace",label:"\uD83C\uDFEA Marketplace",icon:"\uD83C\uDFEA"},{id:"brand",label:"\uD83C\uDFA8 Branding",icon:"\uD83C\uDFA8"},{id:"system",label:"⚙️ System",icon:"⚙️"}].map(e=>(0,l.jsxs)("button",{onClick:()=>p(e.id),className:"px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ".concat(x===e.id?"bg-primary-orange text-white border-b-2 border-primary-orange":"text-neutral-gray hover:text-neutral-dark hover:bg-gray-50"),children:[e.icon," ",e.label]},e.id))})}),(0,l.jsxs)("div",{className:"min-h-96",children:["ai"===x&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-neutral-dark",children:"AI & API Configuration"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Gemini API Key"}),(0,l.jsx)("input",{type:"password",className:"border rounded-lg p-3 w-full focus:ring-2 focus:ring-primary-orange/20",value:i.geminiApiKey||"",onChange:e=>t({...i,geminiApiKey:e.target.value}),placeholder:"Enter your Gemini API key"}),(0,l.jsx)("p",{className:"text-xs text-neutral-gray mt-1",children:"For advanced AI copy generation"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"GitHub Models API Key"}),(0,l.jsx)("input",{type:"password",className:"border rounded-lg p-3 w-full focus:ring-2 focus:ring-primary-orange/20",value:i.githubModelsApiKey||"",onChange:e=>t({...i,githubModelsApiKey:e.target.value}),placeholder:"Enter your GitHub Models API key"}),(0,l.jsx)("p",{className:"text-xs text-neutral-gray mt-1",children:"Fallback AI provider"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Default AI Provider"}),(0,l.jsxs)("select",{className:"border rounded-lg p-3 w-full max-w-xs focus:ring-2 focus:ring-primary-orange/20",value:i.defaultAIProvider||"local",onChange:e=>t({...i,defaultAIProvider:e.target.value}),children:[(0,l.jsx)("option",{value:"gemini",children:"Gemini (Primary)"}),(0,l.jsx)("option",{value:"github-models",children:"GitHub Models"}),(0,l.jsx)("option",{value:"local",children:"Local Fallback"})]})]})]}),"image"===x&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-neutral-dark",children:"Image Processing Settings"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Background Removal Provider"}),(0,l.jsxs)("select",{className:"border rounded-lg p-3 w-full focus:ring-2 focus:ring-primary-orange/20",value:i.imageBgProvider||"internal",onChange:e=>t({...i,imageBgProvider:e.target.value}),children:[(0,l.jsx)("option",{value:"internal",children:"Internal (Heuristic)"}),(0,l.jsx)("option",{value:"external",children:"External API (Coming Soon)"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Default Tolerance"}),(0,l.jsx)("input",{type:"number",min:"0",max:"60",className:"border rounded-lg p-3 w-full focus:ring-2 focus:ring-primary-orange/20",value:i.defaultTolerance||12,onChange:e=>t({...i,defaultTolerance:parseInt(e.target.value)})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Max File Size (MB)"}),(0,l.jsx)("input",{type:"number",min:"1",max:"20",className:"border rounded-lg p-3 w-full max-w-xs focus:ring-2 focus:ring-primary-orange/20",value:i.maxFileSize||8,onChange:e=>t({...i,maxFileSize:parseInt(e.target.value)})})]})]}),"marketplace"===x&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-neutral-dark",children:"Marketplace Configuration"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Default Marketplace"}),(0,l.jsxs)("select",{className:"border rounded-lg p-3 w-full max-w-xs focus:ring-2 focus:ring-primary-orange/20",value:i.defaultMarketplace||"gofood",onChange:e=>t({...i,defaultMarketplace:e.target.value}),children:[(0,l.jsx)("option",{value:"gofood",children:"GoFood"}),(0,l.jsx)("option",{value:"grabfood",children:"GrabFood"}),(0,l.jsx)("option",{value:"shopeefood",children:"ShopeeFood"}),(0,l.jsx)("option",{value:"instagram",children:"Instagram"})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:i.brandingEnabled||!1,onChange:e=>t({...i,brandingEnabled:e.target.checked}),className:"accent-primary-orange scale-110"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Enable Branding by Default"})]}),(0,l.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:i.watermarkEnabled||!1,onChange:e=>t({...i,watermarkEnabled:e.target.checked}),className:"accent-primary-orange scale-110"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Enable Watermark for Instagram"})]})]})]}),"brand"===x&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-neutral-dark",children:"Brand Assets & Colors"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Logo URL"}),(0,l.jsx)("input",{type:"url",className:"border rounded-lg p-3 w-full focus:ring-2 focus:ring-primary-orange/20",value:i.logoUrl||"",onChange:e=>t({...i,logoUrl:e.target.value}),placeholder:"https://example.com/logo.png"})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Primary Brand Color"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"color",className:"w-12 h-12 border rounded-lg cursor-pointer",value:(null===(e=i.brandColors)||void 0===e?void 0:e.primary)||"#F28C28",onChange:e=>t({...i,brandColors:{...i.brandColors,primary:e.target.value}})}),(0,l.jsx)("input",{type:"text",className:"border rounded-lg p-3 flex-1 font-mono text-sm focus:ring-2 focus:ring-primary-orange/20",value:(null===(a=i.brandColors)||void 0===a?void 0:a.primary)||"#F28C28",onChange:e=>t({...i,brandColors:{...i.brandColors,primary:e.target.value}}),placeholder:"#F28C28"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Secondary Brand Color"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"color",className:"w-12 h-12 border rounded-lg cursor-pointer",value:(null===(s=i.brandColors)||void 0===s?void 0:s.secondary)||"#2B3A67",onChange:e=>t({...i,brandColors:{...i.brandColors,secondary:e.target.value}})}),(0,l.jsx)("input",{type:"text",className:"border rounded-lg p-3 flex-1 font-mono text-sm focus:ring-2 focus:ring-primary-orange/20",value:(null===(n=i.brandColors)||void 0===n?void 0:n.secondary)||"#2B3A67",onChange:e=>t({...i,brandColors:{...i.brandColors,secondary:e.target.value}}),placeholder:"#2B3A67"})]})]})]})]}),"system"===x&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-neutral-dark",children:"System Configuration"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"UI Theme"}),(0,l.jsxs)("select",{className:"border rounded-lg p-3 w-full focus:ring-2 focus:ring-primary-orange/20",value:i.theme||"light",onChange:e=>t({...i,theme:e.target.value}),children:[(0,l.jsx)("option",{value:"light",children:"Light"}),(0,l.jsx)("option",{value:"dark",children:"Dark"}),(0,l.jsx)("option",{value:"auto",children:"Auto (System)"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Default Language"}),(0,l.jsxs)("select",{className:"border rounded-lg p-3 w-full focus:ring-2 focus:ring-primary-orange/20",value:i.language||"id",onChange:e=>t({...i,language:e.target.value}),children:[(0,l.jsx)("option",{value:"id",children:"Indonesia"}),(0,l.jsx)("option",{value:"en",children:"English"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Rate Limit (requests per hour)"}),(0,l.jsx)("input",{type:"number",min:"10",max:"1000",className:"border rounded-lg p-3 w-full max-w-xs focus:ring-2 focus:ring-primary-orange/20",value:i.rateLimit||100,onChange:e=>t({...i,rateLimit:parseInt(e.target.value)})})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:!1!==i.analyticsEnabled,onChange:e=>t({...i,analyticsEnabled:e.target.checked}),className:"accent-primary-orange scale-110"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Enable Analytics & Usage Tracking"})]}),(0,l.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:!1!==i.processingHistory,onChange:e=>t({...i,processingHistory:e.target.checked}),className:"accent-primary-orange scale-110"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Keep Processing History"})]})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("button",{className:"btn btn-primary px-8",onClick:h,disabled:c||!o.trim(),children:c?"\uD83D\uDCBE Saving...":"\uD83D\uDCBE Save Settings"}),u&&(0,l.jsx)("span",{className:"text-sm font-medium ".concat(u.includes("✅")?"text-green-600":"text-red-600"),children:u})]}),(0,l.jsx)("div",{className:"text-xs text-neutral-gray",children:"Settings are automatically applied after saving"})]})]})}function i(){return(0,l.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Admin Panel"}),(0,l.jsx)(n,{})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=7267)}),_N_E=e.O()}]);